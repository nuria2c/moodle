define(["jquery","core/str","core/notification"],function(a,b,c){a.fn.extend({toggleText:function(a,b){return this.text(this.text()==b?a:b)}});var d=function(d,e){this.fieldsets=e,this.inputadvancedsettingselector=d,this.submitbuttonvalue=a("input[name='submitbutton']").val();var f=this;b.get_strings([{key:"showadvancedsettings",component:"moodle"},{key:"hideadvancedsettings",component:"moodle"},{key:"wizardsubmitbutton",component:"workshop"}]).done(function(b){f.showadvancedsettingsstring=b[0],f.hideadvancedsettingsstring=b[1],f.wizardbuttonvalue=b[2];var c=f.showadvancedsettingsstring,d="showadvancedsettings",e=a(f.inputadvancedsettingselector).val();1===parseInt(e)?(c=f.hideadvancedsettingsstring,d="hideadvancedsettings"):(a(f.fieldsets).hide(),a("input[name='submitbutton']").val(f.wizardbuttonvalue));var g=a("<a>",{text:c,title:c,href:"#","class":d});a(".collapsible-actions").prepend(g),a(".showadvancedsettings, .hideadvancedsettings").on("click",function(c){var d=a(f.inputadvancedsettingselector);1===parseInt(d.val())?(d.val(0),a("input[name='submitbutton']").val(f.wizardbuttonvalue)):(d.val(1),a("input[name='submitbutton']").val(f.submitbuttonvalue)),c.preventDefault();var e=a(c.target);a(f.fieldsets).toggle(),e.toggleClass("showadvancedsettings hideadvancedsettings"),e.toggleText(b[0],b[1])})}).fail(c.exception)};return d.prototype.showadvancedsettingsstring="",d.prototype.hideadvancedsettingsstring="",d.prototype.fieldsets="",d.prototype.inputadvancedsettingselector="",d.prototype.submitbuttonvalue="",d.prototype.wizardbuttonvalue="",{init:function(a,b){new d(a,b)}}});